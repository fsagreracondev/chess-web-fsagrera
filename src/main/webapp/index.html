<!-- Created b Fabiana Sagrera for Conductor
Date: 5/31/2014  -->
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>CHECKyourMATE</title>
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
<script src="jquery/jquery-2.1.1.min.js"></script>
<script src="bootstrap/js/bootstrap.js"></script>
<link  href="style.css" rel="stylesheet">
</head>
<body>

<div class="product_container">
    <div class="outer-center">
        <div class="product inner-center">
        
        <div class="title">CHECK<small>your</small>MATE</div>
		<div class="matenames">
			<div class="input-group">
			  <span class="input-group-addon">Mate 1</span>
			  <input type="text" id="player1name" class="form-control" placeholder="Mate 1">
			</div>
	
			<div class="input-group">
			  <span class="input-group-addon">Mate 2</span>
			  <input type="text" id="player2name" class="form-control" placeholder="Mate 2">
			</div>
		</div>		
		<button type="button" class="btn btn-primary" onclick="startGame();">START</button>
		<button type="button" class="btn" onclick="window.location='learn.html'">Learn</button>
        </div>
    </div>
</div>

<!-- Players Name Modals -->
<div id="emptyPlayerModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Invalid Player Name(s)</h4>
      </div>
      <div class="modal-body">
        <p>Please enter a name for Mate 1 and Mate 2</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div id="samePlayerModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Invalid Player Name(s)</h4>
      </div>
      <div class="modal-body">
        <p>Please enter different names for each Mate</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>

function startGame(){
	if(validatePlayers()){
		window.location = "chess.html"
	}
}

function validatePlayers(){
	var player1 = $("#player1name").val().trim();
	var player2 = $("#player2name").val().trim();
	
	if(player1.length < 1 || player2.length < 1){
		$("#emptyPlayerModal").modal('show');
		return false;
	}
	if(player1.toLowerCase() == player2.toLowerCase()){
		$("#samePlayerModal").modal('show');
		return false;
	}
	
	savePlayers(player1, player2)
	
	return true;
}

function savePlayers(player1, player2){
   	localStorage.setItem('_player1', player1);
   	localStorage.setItem('_player2', player2);
   	return;
}
</script>
</body>
</html>
